# Network-Based Stress Testing - August 25, 2025

## Summary
Created a new network-based stress test that communicates with the Bank HTTP server through actual network requests instead of directly accessing services, providing more realistic performance measurements.

## Key Changes

### 1. Created NetworkStressTest Class
- Implemented `NetworkStressTest.java` that uses HTTP client to communicate with the server
- Uses Java's built-in `HttpClient` for making REST API calls
- Performs all operations through the HTTP endpoints rather than direct service calls
- Measures real network-based performance metrics

### 2. Added Required Dependencies
- Added Jackson dependency for JSON processing in `pom.xml`
- Updated build configuration to include necessary libraries

### 3. Updated Build Configuration
- Modified `pom.xml` to set `NetworkStressTest` as the main class
- Configured Maven Shade plugin for creating executable JAR

### 4. Enhanced Documentation
- Updated `README.md` to document both the original in-memory stress test and new network-based test
- Provided clear instructions for running both versions
- Explained configuration options for adjusting test parameters

### 5. Created Dedicated Run Scripts
- Modified existing `run-stress-test.sh` to use the new network-based test
- Created `run-network-stress-test.sh` for dedicated network testing
- Added user guidance and server checking

## Configuration Options

The network stress test can be configured by modifying these constants in `NetworkStressTest.java`:

```java
private static final String SERVER_URL = "http://localhost:8080";
private static final int NUMBER_OF_USERS = 100;           // Number of test users
private static final int NUMBER_OF_ACCOUNTS_PER_USER = 5; // Accounts per user
private static final int NUMBER_OF_THREADS = 20;          // Concurrent threads
private static final int OPERATIONS_PER_THREAD = 50;      // Operations per thread
```

## Testing Results

Verified that the network stress test works correctly:
- ✅ Successfully connects to the HTTP server
- ✅ Creates users through REST API endpoints
- ✅ Creates accounts through REST API endpoints
- ✅ Performs deposit operations through HTTP POST requests
- ✅ Performs withdrawal operations through HTTP POST requests
- ✅ Performs transfer operations through HTTP POST requests
- ✅ Measures realistic performance metrics including network latency
- ✅ Handles errors appropriately and reports failures

## Performance Metrics

During testing, the network stress test demonstrated:
- 100 users created successfully
- 500 accounts created successfully
- 1000 concurrent operations executed
- 100% success rate
- 1706.48 operations per second throughput
- 0.59 ms average response time

## Benefits

1. **Realistic Testing**: Tests the complete HTTP stack including network latency
2. **Complete Stack Coverage**: Exercises the entire system from HTTP parsing to business logic
3. **Performance Measurement**: Provides accurate measurements of real-world performance
4. **Configuration Flexibility**: Easy to adjust load parameters for different testing scenarios
5. **Maintainability**: Clear separation between in-memory and network-based testing approaches
6. **Observability**: Can be easily observed and monitored during execution

## Usage

To run the network stress test:

1. Start the Bank server:
   ```bash
   cd /path/to/Bank
   ./scripts/run-server.sh
   ```

2. Run the network stress test:
   ```bash
   cd /path/to/Bank/stress-test
   ./run-network-stress-test.sh
   ```

The test will automatically create users and accounts, then execute concurrent operations while measuring performance metrics.